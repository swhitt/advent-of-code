inherit_mode:
  merge:
    - Exclude

AllCops:
  NewCops: enable
  Exclude:
    - sorbet/**/*

# Core (Defaults: https://github.com/rubocop-hq/rubocop/blob/master/config/default.yml)

#################### Bundler ###############################

Bundler/DuplicatedGem:
  Enabled: true

Bundler/GemComment:
  Enabled: false

Bundler/InsecureProtocolSource:
  Enabled: true

#################### Layout ##################################

Layout/LineLength:
  Max: 150
Layout/DotPosition:
  EnforcedStyle: leading
Layout/FirstHashElementIndentation:
  EnforcedStyle: consistent
Layout/FirstArrayElementIndentation:
  EnforcedStyle: consistent
Layout/MultilineMethodArgumentLineBreaks:
  Enabled: true
Layout/FirstMethodArgumentLineBreak:
  Enabled: true

#################### Lint ##################################

Lint/DuplicateBranch:
  Enabled: true
Lint/DuplicateRegexpCharacterClassElement:
  Enabled: true
Lint/EmptyBlock:
  Enabled: true
Lint/EmptyClass:
  Enabled: true
Lint/EmptyWhen:
  Enabled: false
Lint/NoReturnInBeginEndBlocks:
  Enabled: true
Lint/ToEnumArguments:
  Enabled: true
Lint/UnexpectedBlockArity:
  Enabled: true
Lint/UnmodifiedReduceAccumulator:
  Enabled: true
Lint/UnderscorePrefixedVariableName:
  Enabled: false

#################### Metrics ###############################

Metrics/BlockLength:
  Enabled: false

#################### Naming ###############################

Naming/BlockForwarding:
  EnforcedStyle: explicit
Naming/PredicateName:
  Enabled: false
Naming/VariableNumber:
  EnforcedStyle: snake_case
  AllowedIdentifiers:
    - decode64
    - strict_decode64

#################### Security ##############################

# use defaults

#################### Style ###############################

Style/AccessorGrouping:
  Enabled: false # makes Sorbet definitions harder
Style/Documentation:
  Enabled: false
Style/BlockDelimiters:
  EnforcedStyle: line_count_based
Style/DateTime:
  Enabled: true
Style/StringLiterals:
  EnforcedStyle: double_quotes
Style/NumericLiterals:
  Enabled: false
Style/Lambda:
  Enabled: false
Style/ModuleFunction:
  EnforcedStyle: extend_self
Style/NegatedIfElseCondition:
  Enabled: false
Style/NilLambda:
  Enabled: true
Style/NumericPredicate:
  EnforcedStyle: comparison
Style/RedundantArgument:
  Enabled: true
Style/RedundantSelf:
  Enabled: false
Style/SwapValues:
  Enabled: true
Style/TrailingCommaInArguments:
  EnforcedStyleForMultiline: comma
Style/TrailingCommaInArrayLiteral:
  EnforcedStyleForMultiline: comma
Style/TrailingCommaInHashLiteral:
  EnforcedStyleForMultiline: comma
Style/WordArray:
  EnforcedStyle: brackets
Style/SymbolArray:
  EnforcedStyle: brackets
Style/GuardClause:
  Enabled: false
Style/OptionalBooleanParameter:
  Enabled: false
Style/EmptyElse:
  Enabled: false
Style/YodaExpression:
  Enabled: false

# sorbet casts/lets add a good about of
# complexity to methods.  Bump the threshold accordingly
Metrics/AbcSize:
  Max: 50

Metrics/ClassLength:
  Enabled: false

Metrics/ModuleLength:
  Max: 200

Metrics/MethodLength:
  Max: 200

Style/ClassAndModuleChildren:
  Enabled: false

Style/RaiseArgs:
  Enabled: false
